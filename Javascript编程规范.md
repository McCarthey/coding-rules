# JavaScript编程风格

命名风格遵循JavaScript的规范。特别是命名风格。统一了大家协作互相调用的时候才不会出现拼写错误。并且好的编程风格可以有助于写出质量更高，错误更少，易于维护的程序。使代码更清晰易懂。

## 1. 缩进
每一行的层级由4个空格组成，避免使用Tab进行缩进。

    //好的写法
    if (true) {
        doSomeThing();
    }

## 2. 行的长度
每行长度不应超过80个字符。如果一行超过80个字符，应当在一个运算符后换行。下一行应当增加两级缩进（8个字符）。

    //好的写法
    doSomething(argument1,argument2,argument3,argument4,
            argument5);

    //不好的写法：第二行只有4个空格
    doSomething(argument1,argument2,argument3,argument4,
        argument5);

## 3. 原始值
**字符串** 应当始终使用双引号且保持一行，避免在字符串中使用斜线另起一行。

**数字** 应当使用十进制整数，科学计算法表示整数，十六进制整数，或者十进制浮点小数，小数前后应当至少保留一位数字。避免使用八进制直接量。

**特殊值null** 除了下述情况下应当避免使用。
- 用来初始化一个变量，这个变量可能被赋值为一个对象。
- 用来和一个已经初始化的变量比较，这个变量可以是也可以不是一个对象。
- 当函数的参数期望是对象时，被用作参数传入。
- 当函数的返回值期望是对象时，被用作返回值传出。

**特殊值undefined** 应避免使用。

判断一个变量是否定义应当使用 **typeof操作符** 

## 4. 运算符间距
二元运算符前后必须使用一个空格来保持表达式的整洁。操作符包括**赋值运算符**和**逻辑运算符**。

    //好的写法
    for (var i = 0; i < count; i++) {
        process(i);
    }

    //不好的写法：丢失了空格
    for (var i=0; i<count; i++>) {
        process(i);
    }
## 5. 括号间距
当使用括号时，紧接左括号之后和紧接右括号之前不应该有空格。
    
    //好的写法
    for (var i = 0; i < count; i++) {
        process(i);
    }

    //不好的写法:参数两边有额外的空格
    for ( var i = 0; i < count; i++ ) {
        process( i );
    }
## 6. 对象直接量
对象直接量应当有如下格式：
- 起始左花括号应当同表达式保持同一行。
- 每个属性的名值对应当保持一个缩进，第一个应当在左花括号后另起一行。
- 每个属性的名值对应当使用不含引号的属性名，其后紧跟一个冒号（之前不含空格），其后是值。
- 倘若属性值是函数类型，函数体应当在属性名之下另起一行，而且其前后均应保留一个空行。
- 一组相关的属性前后可以插入空行以提升代码的可读性。
- 结束的右花括号应当独占一行。

        //好的写法
        var object = {

            key1: value1,
            key2: value2,

            func: function(){
                //doSomething
            },

            key3: value3
        };
        
        //不好的写法: 不恰当的缩进
        var object = {
                key1: value1,
                key2: value2
        };
        
        //不好的写法：函数体周围缺少空行
        var object = {

            key1: value1,
            key2: value2,
            func: function() {
                //doSomething
            },
            key3:value3
        }

当**对象字面量最为函数参数**时，如果值是变量，起始花括号应当同函数名在同一行。所有其余先前列出的规则同样适用。

    //好的写法
    doSomething({
        key1: value1,
        key2: value2
    });

    //不好的写法：所有代码在一行
    doSomething({ key1: value1, key2: value2 });

## 7. 注释
使用简洁明了的注释有助于他人理解你的代码。如下情况应当使用注释。
- 代码晦涩难懂。
- 可能被误认为错误的代码。
- 必要但不明显的针对特定浏览器的代码。
- 对于对象、方法或者属性，生成文档时有必要的（使用恰当的文档注释）。

#### **单行注释**
单行注释应当用来说明一行代码或者一组相关的代码。单行注释可能有三种使用方式。
- 独占一行的注释，用来解释下一行代码。
- 在代码行的尾部的注释，用来解释它之前的代码。
- 多行，用来注释掉一个代码块。

        //好的写法
        if (condition) {

            //如果代码执行到这里，则表明通过了所有安全检查
            allowed();
        }

        //不好的写法：注释之前没有空行
        if (condition) {
            //如果代码执行到这里，则表明通过了所有安全检查
            allowed();
        }

        //不好的写法：错误的缩进
        if (condition) {

        //如果代码执行到这里，则表明通过了所有安全检查
            allowed();
        }

        //不好的写法：应当使用多行注释
        //这段代码进行**判断
        //然后执行
        if (condition) {

            //如果代码执行到这里，则表明通过了所有安全检查
            allowed();
        }

        //好的写法：在行尾注释时，代码结尾和注释间应保留一个空格
        if (condition) {

            //如果代码执行到这里，则表明通过了所有安全检查
            allowed(); //执行**函数
        }

        //不好的写法：代码和注释间没有足够的空格
        if (condition) {

            //如果代码执行到这里，则表明通过了所有安全检查
            allowed();//执行**函数
        }

        //好的写法：在注释掉一个代码块时，应使用单行注释，多行注释不应当使用在此种情况下。
        // if (condition) {
        //     allowed();//执行**函数
        // }

#### **多行注释**
多行注释应当在代码需要更多文字去解释的时候使用。每个多行注释都至少符合以下三点：
- 首行仅仅包括/*注释开始。该行不应当由其他文字。
- 接下来的行以*开头并保持左对齐。这些可以有文字描述。
- 最后一行以*/开头并同先前行保持对齐。也不应有其他文字。

多行注释的首行应当保持同他描述代码的相同层次的缩进。后续的每行应当有同样层次的缩进并附加一个空格（为了适当保持*字符的对齐）。每一个多行代码之前应当预留一个空行。

    //好的写法
    if (condition) {

        /*
        *如果代码执行到这里
        *说明通过了所有的安全检查
        */
        allowed();
    }
#### **注释声明**
注释有时候也可以用来给一段代码声明额外的信息。这些声明的格式以单个单词打头并紧跟一个冒号。可以使用的声明如下：
- **TODO**:说明代码还为完成。应当包含下一步要做的事。
- **HACK**:表明代码实现走了一个捷径。应当包含为何使用hack的原因。这样可能表明该问题可能有更好的解决办法。
- **XXX**:说明代码是有问题的并应当尽快修复。
- **FIXME**:说明代码是有问题的并应当尽快修复。重要性略次于XXX。
- **REVIEW**:说明代码有任可能的改动都需要评审。
这些声明可能在一行或多行注释中使用，并且应当遵循同一般注释类型相同的格式规则。

## 8. 命名
变量和函数在命名时应当小心。命名应仅限于数字字母字符，某些情况下可以使用下划线(_)。最好不要在任何命名中使用($)或者反斜杠(\\)。
**变量命名**应采用驼峰命名格式，首字母小写，每个单词首字母大写。变量名的第一个单词应当是一个名词（而非动词）以避免和函数混淆。**不要在变量中使用下划线**。
    
    //好的写法
    var accountNumber = "test001";

    //不好的写法：大写字母开头
    var AccountNumber = "test001";

    //不好的写法：动词开头
    var getAccountNumber = "test001";

    //不好的写法：使用下划线
    var account_number = "test001";

**函数命名**也应当采用驼峰命名格式。函数名的第一个单词应当是动词（而非名词）来避免同变量混淆。函数名中最好不要使用下划线。

    //好的写法
    function doSomething() {
        //code
    }

    //不好的写法：大写字母开头
    function DoSomething() {
        //code
    }

    //不好的写法：名词开头 
    function something() {
        //code
    }

    //不好的写法：使用下划线
    function do_something() {
        //code
    }

**构造函数**————通过new运算符创建新对象的函数————也应当以驼峰格式命名，并且首字母大写。构造函数名称应当以非动词开头，因为new代表着创建一个对象实例的操作。

    //好的写法
    function MyObject() {
        //code
    }

    //不好的写法：小写字母开头
    function myObject() {
        //code
    }

    //不好的写法：使用下划线
    function my_object() {
        //code
    }

    //不好的写法：动词开头
    function getMyObject() {
        //code
    }

**常量**（值不会被改变的变量）的命名应当是所有大写字母，不同单词之间单个下划线隔开。

    //好的写法
    var TOTAL_COUNT = 10;

    //不好的写法：驼峰式
    var totalCount = 10;

    //不好的写法：混合形式
    var total_COUNT = 10;
**对象的属性**同变量的命名规则相同。对象的方法和函数的命名规则相同。如果属性或者方法是私有的，应当在之前加上一个下弧线。

    //好的写法
    var object = {
        _count: 10,
        _getCount: function() {
            return this._count;
        }
    }

## 9. 变量与函数声明